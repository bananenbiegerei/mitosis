// Unstyled
.btn {
  @apply inline-flex flex-shrink-0 cursor-pointer select-none flex-wrap items-center justify-start rounded-md border-transparent text-left text-xl leading-none transition duration-200 ease-out;
  @apply px-2.5 py-1.5;

  /* Disabled */
  &-disabled,
  &[disabled],
  &:disabled {
    @apply pointer-events-none;
  }

  svg {
    @apply h-8 w-8;
  }

  &.btn-xs {
    @apply px-1.5 py-0.5 text-sm;

    svg {
      @apply icon-xs;
    }
  }

  &.btn-sm {
    @apply px-1.5 py-0.5 text-base lg:px-2 lg:py-0.5 lg:text-base;

    svg {
      @apply icon-sm;
    }
  }

  &.btn-lg {
    @apply px-2 py-1 text-xl lg:px-2.5 lg:py-1 lg:text-2xl;

    svg {
      @apply icon-lg;
    }
  }

  &.btn-xl {
    @apply px-2 py-1 text-2xl lg:px-3 lg:py-1.5 lg:text-3xl;

    svg {
      @apply icon-lg;
    }
  }
}

/* Group */
.btn-group {
  @apply inline-flex flex-wrap gap-2;

  & > input[type='radio'].btn {
    @apply appearance-none;
  }

  & > input[type='radio'].btn:before {
    content: attr(data-title);
  }
}

/* Radio input and checkbox as button */
.btn:is(input[type='checkbox']),
.btn:is(input[type='radio']) {
  @apply w-auto appearance-none;
}

.btn:is(input[type='checkbox']):after,
.btn:is(input[type='radio']):after {
  @apply content-[attr(aria-label)];
}

// Styled
.btn {
  @apply gap-2 border font-sans no-underline;
  animation: button-pop var(--animation-btn, 0.25s) ease-out;

  &:active:hover,
  &:active:focus {
    animation: button-pop 0s ease-out;
    transform: scale(var(--btn-600-scale, 0.98));
  }

  /* Default btn */
  & {
    @apply border-black bg-black text-white no-underline outline-black/50 hover:border-black/50 hover:bg-black/50;

    &.btn-active {
      @apply border-primary-500 bg-primary-500;
    }

    &:focus-visible {
      @apply outline outline-2 outline-offset-2;
    }
  }

  /* Brand colors */
  &-primary {
    @apply border-primary bg-primary text-white outline-primary hover:border-primary-500 hover:bg-primary-500;

    &.btn-active {
      @apply border-primary-500 bg-primary-500;
    }
  }

  &-secondary {
    @apply border-neutral bg-neutral text-black outline-neutral hover:border-neutral-200 hover:bg-neutral-200;

    &.btn-active {
      @apply border-black bg-black;
    }
  }

  &-accent {
    @apply border-accent bg-accent text-accent-900 outline-accent;

    @media (hover: hover) {
      &:hover {
        @apply border-accent-400 bg-accent-400;
      }
    }

    &.btn-active {
      @apply border-accent-400 bg-accent-400;
    }
  }

  &-disabled {
    @apply border-neutral bg-neutral text-neutral-700 outline-neutral;

    @media (hover: hover) {
      &:hover {
        @apply border-neutral-600 bg-neutral-600;
      }
    }

    &.btn-active {
      @apply border-neutral-600 bg-neutral-600;
    }
  }

  /* State colors */
  &-success {
    @apply border-success bg-success text-white outline-success hover:border-success-500 hover:bg-success-500;

    &.btn-active {
      @apply border-success bg-success;
    }
  }

  &-warning {
    @apply border-warning bg-warning text-white outline-warning hover:border-warning-400 hover:bg-warning-400;

    &.btn-active {
      @apply border-warning bg-warning;
    }
  }

  &-error {
    @apply border-error bg-error text-white outline-error hover:border-error-400 hover:bg-error-400;

    &.btn-active {
      @apply border-error bg-error;
    }
  }

  /* Variants */
  &-ghost {
    @apply border border-transparent bg-transparent text-current shadow-none outline-current hover:border-opacity-0 hover:bg-primary-200 hover:bg-opacity-20;

    &.btn-active {
      @apply border-opacity-0 bg-primary-600 bg-opacity-20;
    }

    &.btn-secondary {
      @apply text-neutral-800 hover:border-neutral-500 hover:bg-neutral-500 hover:text-white;

      &.btn-active {
        @apply border-secondary-600 bg-secondary-600 text-secondary-700;
      }
    }

    &.btn-accent {
      @apply text-accent-800 hover:border-accent hover:bg-accent;

      &.btn-active {
        @apply border-accent-600 bg-accent-600 text-accent-700;
      }
    }

    &.btn-success {
      @apply text-success hover:border-success hover:bg-success hover:text-white;

      &.btn-active {
        @apply border-success bg-success text-white;
      }
    }

    &.btn-warning {
      @apply text-warning hover:border-warning hover:bg-warning hover:text-white;

      &.btn-active {
        @apply border-warning bg-warning text-white;
      }
    }

    &.btn-error {
      @apply text-error hover:border-error hover:bg-error hover:text-white;

      &.btn-active {
        @apply border-error bg-error text-white;
      }
    }
  }

  &-link {
    @apply border-transparent bg-transparent text-primary underline shadow-none outline-current;

    @media (hover: hover) {
      &:hover {
        @apply border-transparent bg-transparent underline;
      }
    }

    &.btn-active {
      @apply border-transparent bg-transparent underline;
    }
  }

  /* Outline */
  &-outline {
    @apply border-current bg-transparent text-primary shadow-none hover:border-primary-700 hover:bg-primary-700 hover:text-white;

    &.btn-active {
      @apply border-primary-700 bg-primary-700 text-white;
    }

    &.btn-secondary {
      @apply text-neutral-800 hover:border-neutral-500 hover:bg-neutral-500 hover:text-white;

      &.btn-active {
        @apply border-secondary-600 bg-secondary-600 text-secondary-700;
      }
    }

    &.btn-accent {
      @apply text-accent-800 hover:border-accent hover:bg-accent;

      &.btn-active {
        @apply border-accent-600 bg-accent-600 text-accent-700;
      }
    }

    &.btn-success {
      @apply text-success hover:border-success hover:bg-success hover:text-white;

      &.btn-active {
        @apply border-success bg-success text-white;
      }
    }

    &.btn-warning {
      @apply text-warning hover:border-warning hover:bg-warning hover:text-white;

      &.btn-active {
        @apply border-warning bg-warning text-white;
      }
    }

    &.btn-error {
      @apply text-error hover:border-error hover:bg-error hover:text-white;

      &.btn-active {
        @apply border-error bg-error text-white;
      }
    }
  }

  &-expanded {
    @apply w-full;
  }

  /* Disabled */
  &.btn-disabled,
  &[disabled],
  &:disabled {
    @apply border-opacity-0 bg-neutral bg-opacity-20 text-primary-700 text-opacity-20;
  }

  @media (hover: hover) {
    &-disabled:hover,
    &[disabled]:hover,
    &:disabled:hover {
      @apply border-opacity-0 bg-neutral bg-opacity-20 text-primary-700 text-opacity-20;
    }
  }
}

/* Group */
.btn-menu-section {
  @apply rounded-md border-none bg-transparent text-sm font-bold uppercase text-black hover:bg-transparent hover:text-primary-800;
}

.btn-group {
  @apply gap-2;
}

/* Radio input and checkbox as button */
.btn:is(input[type='checkbox']:checked),
.btn:is(input[type='radio']:checked) {
  @apply border-primary bg-primary text-primary-700;

  @media (hover: hover) {
    &:hover {
      @apply border-primary-500 bg-primary-500;
    }
  }

  &:focus-visible {
    @apply outline-primary;
  }
}

@keyframes button-pop {
  0% {
    transform: scale(var(--btn-600-scale, 0.98));
  }

  40% {
    transform: scale(1.02);
  }

  100% {
    transform: scale(1);
  }
}